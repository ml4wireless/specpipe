<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-dashboard" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.1.1">
<title data-rh="true">Dashboards | SpecPipe</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://ml4wireless.github.io/specpipe/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://ml4wireless.github.io/specpipe/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://ml4wireless.github.io/specpipe/dashboard"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Dashboards | SpecPipe"><meta data-rh="true" name="description" content="1. Check Out Our Dashboard for SpecPipe"><meta data-rh="true" property="og:description" content="1. Check Out Our Dashboard for SpecPipe"><link data-rh="true" rel="icon" href="/specpipe/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://ml4wireless.github.io/specpipe/dashboard"><link data-rh="true" rel="alternate" href="https://ml4wireless.github.io/specpipe/dashboard" hreflang="en"><link data-rh="true" rel="alternate" href="https://ml4wireless.github.io/specpipe/dashboard" hreflang="x-default"><link rel="stylesheet" href="/specpipe/assets/css/styles.08e8fe46.css">
<script src="/specpipe/assets/js/runtime~main.9eb069fd.js" defer="defer"></script>
<script src="/specpipe/assets/js/main.df230508.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/specpipe/"><div class="navbar__logo"><img src="/specpipe/img/logo.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/specpipe/img/logo.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">SpecPipe</b></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/ml4wireless/specpipe" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">SpecPipe Repo<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://github.com/ml4wireless/specpipe-sdk-py" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">SpecPipe Python SDK Repo<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><main class="docMainContainer_TBSr docMainContainerEnhanced_lQrH"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Dashboards</h1>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="1-check-out-our-dashboard-for-specpipe">1. Check Out Our Dashboard for SpecPipe<a href="#1-check-out-our-dashboard-for-specpipe" class="hash-link" aria-label="Direct link to 1. Check Out Our Dashboard for SpecPipe" title="Direct link to 1. Check Out Our Dashboard for SpecPipe">​</a></h2>
<p><strong>Grafana Endpoint (Dashboards):</strong> <a href="http://ec2-13-56-236-180.us-west-1.compute.amazonaws.com:3000" target="_blank" rel="noopener noreferrer">http://ec2-13-56-236-180.us-west-1.compute.amazonaws.com:3000</a></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="2-overview">2. Overview<a href="#2-overview" class="hash-link" aria-label="Direct link to 2. Overview" title="Direct link to 2. Overview">​</a></h2>
<p><strong>Prometheus</strong> is a monitoring system and time-based database. We use Prometheus to monitor and gather our system’s status, storing it in its database. The data will then be exported to Grafana for graphical analysis. The goal of using Prometheus and Grafana is to create a <strong>dashboard</strong> for system administrators to check the system status.</p>
<p><img decoding="async" loading="lazy" alt="Untitled" src="/specpipe/assets/images/dashboard_1-ecdd46c51ea04c8205b4fa2c7c799d54.png" width="3434" height="1766" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="3-build-the-dashboard">3. Build the Dashboard<a href="#3-build-the-dashboard" class="hash-link" aria-label="Direct link to 3. Build the Dashboard" title="Direct link to 3. Build the Dashboard">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-install-prometheus-and-grafana-helm-chart">1) Install Prometheus and Grafana Helm chart<a href="#1-install-prometheus-and-grafana-helm-chart" class="hash-link" aria-label="Direct link to 1) Install Prometheus and Grafana Helm chart" title="Direct link to 1) Install Prometheus and Grafana Helm chart">​</a></h3>
<p>We use the Prometheus Helm chart to install the app into the Kubernetes cluster.</p>
<ol>
<li>Install the Prometheus Helm chart, using the <code>values.yaml</code>from <a href="https://github.com/ml4wireless/adsb-nats/blob/master/dashboard/prometheus.yaml" target="_blank" rel="noopener noreferrer">adsb-nats/dashboard at master · ml4wireless/adsb-nats (github.com)</a> (download the <code>values.yaml</code> and using <code>helm install -f values.yaml</code> when installing the helm chart）</li>
</ol>
<p><a href="https://artifacthub.io/packages/helm/prometheus-community/prometheus" target="_blank" rel="noopener noreferrer">prometheus 19.7.2 · prometheus/prometheus-community</a></p>
<ol>
<li>Install the Grafana Helm chart , using the <code>values.yaml</code> from <a href="https://github.com/ml4wireless/adsb-nats/blob/master/dashboard/grafana.yaml" target="_blank" rel="noopener noreferrer">adsb-nats/grafana.yaml at master · ml4wireless/adsb-nats (github.com)</a>.</li>
</ol>
<p><a href="https://artifacthub.io/packages/helm/grafana/grafana" target="_blank" rel="noopener noreferrer">grafana 6.52.3 · grafana/grafana</a></p>
<ol>
<li>Get the Grafana password <code>kubectl get secret — namespace default grafana -o jsonpath=”{.data.admin-password}” | base64 — decode ; echo</code>] (you can save it for future use)<!-- -->
<ol>
<li>The username is default to <code>admin</code></li>
</ol>
</li>
<li>Get the Grafana service IP by <code>kubectl get svc -A</code>  and see the external IP field of Grafana service. It’s worth notice that in step 2, our <code>values.yaml</code> indicates to the helm chart to expose Grafana service as <code>Loadbalancer</code> type, so that the cloud provider will automatically provision an external load balancer here as the entrance of service.</li>
</ol>
<p>After all these steps, you should be able to view a grafana-style frontend page from the service IP using the username and password from step 3).</p>
<p><img decoding="async" loading="lazy" alt="Untitled" src="/specpipe/assets/images/dashboard_2-e1936e8f417417b954e9a7d1cb754016.png" width="1994" height="760" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-start-prometheus--grafana">2) Start Prometheus &amp; Grafana<a href="#2-start-prometheus--grafana" class="hash-link" aria-label="Direct link to 2) Start Prometheus &amp; Grafana" title="Direct link to 2) Start Prometheus &amp; Grafana">​</a></h3>
<ol>
<li>
<p>Prometheus</p>
<p>Prometheus will use the configuration file located in this directory.</p>
<div class="language-jsx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-jsx codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">prometheus</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>Grafana</p>
<p>Start your Grafana server. Your settings may differ. Try starting with the server config included in the Grafana tarball.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">grafana-server --config=/usr/local/etc/grafana/grafana.ini --homepath /usr/local/share/grafana cfg:default.paths.logs=/usr/local/var/log/grafana cfg:default.paths.data=/usr/local/var/lib/grafana cfg:default.paths.plugins=/usr/local/var/lib/grafana/plugins</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="3-adding-nats-exporter">3) Adding NATS exporter<a href="#3-adding-nats-exporter" class="hash-link" aria-label="Direct link to 3) Adding NATS exporter" title="Direct link to 3) Adding NATS exporter">​</a></h3>
<p>A NATS exporter is a service that scrapes the metrics from NATS, exposing these metrics to an endpoint, and then Prometheus will gather those metrics to the backend from that endpoint.</p>
<p>After adding the NATS exporter, you should be able to see NATS related metrics in the Grafana frontend like the screenshot below.</p>
<p><img decoding="async" loading="lazy" alt="Untitled" src="/specpipe/assets/images/dashboard_3-6e510de1298be850149d2d57a92b8578.png" width="2144" height="998" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="4-adding-grafana-dashboard-template">4) Adding Grafana Dashboard Template<a href="#4-adding-grafana-dashboard-template" class="hash-link" aria-label="Direct link to 4) Adding Grafana Dashboard Template" title="Direct link to 4) Adding Grafana Dashboard Template">​</a></h3>
<p>The next step is to adding different dashboard template to your Grafana frontend so that you can view different system metrics in a user-friendly GUI.</p>
<ul>
<li>
<p>For NATS, there exists a pretty decent template that we can directly use. <a href="https://github.com/nats-io/prometheus-nats-exporter/blob/main/walkthrough/grafana-jetstream-dash-helm.json" target="_blank" rel="noopener noreferrer">Jetstream Dash Helm</a> is one of templates that we used in our application.</p>
<p><img decoding="async" loading="lazy" alt="Untitled" src="/specpipe/assets/images/dashboard_4-f2ebf73d9c6ddd9f03e0a87d6a453aef.png" width="3282" height="2310" class="img_ev3q"></p>
</li>
</ul>
<p>The following page also provides a great walkthrough.</p>
<p><a href="https://github.com/nats-io/prometheus-nats-exporter/tree/main/walkthrough" target="_blank" rel="noopener noreferrer">prometheus-nats-exporter/walkthrough at main · nats-io/prometheus-nats-exporter</a></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="5-adding-other-sources-of-data">5) Adding other sources of data<a href="#5-adding-other-sources-of-data" class="hash-link" aria-label="Direct link to 5) Adding other sources of data" title="Direct link to 5) Adding other sources of data">​</a></h3>
<p>In addition to the existing template and data sources, we can also add different sources of data to our system health dashboard. For example, in our airplane application, we used some data from our elastic search to visual the location of each reporter.</p>
<p><img decoding="async" loading="lazy" alt="Untitled" src="/specpipe/assets/images/dashboard_5-caae136c0393b349f666dbd15e4a73f7.png" width="1404" height="486" class="img_ev3q"></p>
<p>In order to build something like this, you need to:</p>
<ol>
<li>
<p>Add <strong>data sources</strong> to grafana</p>
<p>You can add it by using its frontend GUI and insert any authentication you have for your elastic search</p>
</li>
<li>
<p>Verify and <strong>write your own queries</strong></p>
<p>Here is an example of Lucene Query we wrote. You might need to learn more about the language and write your own query.</p>
<p><img decoding="async" loading="lazy" alt="Untitled" src="/specpipe/assets/images/dashboard_6-08138bf15936b10a6cf2a3845398c3a4.png" width="2192" height="692" class="img_ev3q"></p>
</li>
<li>
<p>Adjust Grafana settings for <strong>GUI</strong></p>
<p>We choose geomap for our visualization since we are focusing on the location data. It is also pretty common for spectrum related application. You can also change it using Grafana frontend and adjust corresponding settings (e.g. geo marker center, scale).</p>
<p><img decoding="async" loading="lazy" alt="Untitled" src="/specpipe/assets/images/dashboard_7-be372597678742d023582110f0dc290f.png" width="806" height="1822" class="img_ev3q"></p>
</li>
</ol>
<p>With these steps, you should be able to create any visualization for your application and even combine with any previous template to build a customized, pretty system health dashboard!</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#1-check-out-our-dashboard-for-specpipe" class="table-of-contents__link toc-highlight">1. Check Out Our Dashboard for SpecPipe</a></li><li><a href="#2-overview" class="table-of-contents__link toc-highlight">2. Overview</a></li><li><a href="#3-build-the-dashboard" class="table-of-contents__link toc-highlight">3. Build the Dashboard</a><ul><li><a href="#1-install-prometheus-and-grafana-helm-chart" class="table-of-contents__link toc-highlight">1) Install Prometheus and Grafana Helm chart</a></li><li><a href="#2-start-prometheus--grafana" class="table-of-contents__link toc-highlight">2) Start Prometheus &amp; Grafana</a></li><li><a href="#3-adding-nats-exporter" class="table-of-contents__link toc-highlight">3) Adding NATS exporter</a></li><li><a href="#4-adding-grafana-dashboard-template" class="table-of-contents__link toc-highlight">4) Adding Grafana Dashboard Template</a></li><li><a href="#5-adding-other-sources-of-data" class="table-of-contents__link toc-highlight">5) Adding other sources of data</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/specpipe/">Home</a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/ml4wireless/specpipe" target="_blank" rel="noopener noreferrer" class="footer__link-item">SpecPipe Repo<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/ml4wireless/specpipe-sdk-py" target="_blank" rel="noopener noreferrer" class="footer__link-item">SpecPipe Python SDK Repo<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 ml4wireles.</div></div></div></footer></div>
</body>
</html>